<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Galley Guide</title>
    <style>
        /* --- Reset & Base --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: #0a1120; /* Deep Ocean */
            background-image: radial-gradient(#1e293b 1px, transparent 1px);
            background-size: 20px 20px;
            color: #f1f5f9;
            margin: 0;
            padding: 0;
            height: 100vh; /* Fallback */
            height: 100dvh;
            width: 100vw;
            overflow: hidden; /* Prevent scroll on body */
            display: flex;
            justify-content: center;
        }

        /* --- Layout Containers --- */
        #app-container {
            width: 100%;
            height: 100%;
            background-color: #0f172a;
            position: relative;
            display: flex;
            flex-direction: column;
            overflow-x: hidden; 
            overflow-y: hidden;
        }

        @media (min-width: 640px) {
            #app-container {
                max-width: 28rem;
                height: 90vh;
                margin-top: 5vh;
                border-radius: 1.5rem;
                border: 4px dashed #ca8a04; 
                box-shadow: 0 0 0 8px #0f172a, 0 25px 50px -12px rgba(0, 0, 0, 0.5);
                overflow: hidden; 
            }
        }

        /* --- Colors & Utilities --- */
        .text-gold { color: #facc15; }
        .bg-gold { background-color: #facc15; }
        .border-gold { border-color: #ca8a04; }
        
        /* --- Typography --- */
        h1, h2, h3 { margin: 0; letter-spacing: 0.05em; text-transform: uppercase; }
        .font-header { font-family: 'Impact', 'Oswald', sans-serif; font-weight: 700; }

        /* --- Views --- */
        .view {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
            display: flex; flex-direction: column;
            background: #0f172a;
        }
        .hidden { display: none; }

        /* --- HOME VIEW (Landing) --- */
        #home-view {
            background: linear-gradient(to bottom, #0f172a, #1e293b);
        }

        /* The Scene Header */
        .dash-header {
            position: relative;
            background: linear-gradient(to bottom, #bae6fd, #f0f9ff); /* Sky Gradient */
            height: 45%; /* Takes up top half of screen */
            min-height: 280px;
            overflow: hidden;
            border-bottom: 4px solid #ca8a04;
            cursor: pointer; 
            user-select: none;
            z-index: 1; 
        }
        .dash-header:active { filter: brightness(0.95); }

        /* Home Content Area */
        .home-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            text-align: center;
        }

        /* LOGO STYLING (Moved here) */
        .logo-img {
            width: 200px;
            height: auto;
            margin-bottom: 24px; /* Space above title */
            
            /* Signboard Look */
            background: rgba(15, 23, 42, 0.6); 
            padding: 16px 20px;
            border-radius: 12px;
            border: 2px solid #ca8a04;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        .main-title {
            font-size: 32px; font-weight: 800; color: #f1f5f9;
            text-transform: uppercase; letter-spacing: 2px;
            margin-bottom: 4px; font-family: 'Impact', sans-serif;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        .sub-title {
            color: #94a3b8; font-size: 14px; margin-bottom: 32px; letter-spacing: 2px; font-weight: 700;
        }

        .enter-btn {
            background: #facc15;
            color: #0f172a;
            font-size: 18px; font-weight: 700;
            padding: 16px 32px;
            border-radius: 12px;
            border: none;
            box-shadow: 0 4px 15px rgba(250, 204, 21, 0.3);
            cursor: pointer;
            text-transform: uppercase;
            display: flex; align-items: center; gap: 10px;
            transition: transform 0.1s, box-shadow 0.1s;
        }
        .enter-btn:active { transform: scale(0.96); box-shadow: 0 2px 8px rgba(250, 204, 21, 0.2); }

        /* --- MENU VIEW (The Grid) --- */
        #menu-view { background: #0f172a; }
        
        .simple-nav {
            height: 60px; display: flex; align-items: center; padding: 0 16px;
            background: #1e293b; border-bottom: 2px solid #ca8a04;
            flex-shrink: 0; box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .dash-grid {
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            overflow-y: auto;
            align-content: start;
        }

        .dash-card {
            background: #1e293b; border-radius: 16px; aspect-ratio: 1.1; 
            border: 2px solid #334155;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            padding: 10px; text-align: center; cursor: pointer;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .dash-card:active { border-color: #facc15; background: #334155; }
        .dash-icon { width: 36px; height: 36px; margin-bottom: 8px; stroke: #facc15; }
        .dash-title { font-size: 13px; font-weight: 700; color: #e2e8f0; text-transform: uppercase; }

        /* --- SECTION VIEW (Content) --- */
        .content-list {
            flex: 1; overflow-y: auto; padding: 16px; padding-bottom: 40px;
            background-image: linear-gradient(#1e293b 1px, transparent 1px);
            background-size: 100% 40px; 
        }
        .recipe-link {
            display: block; background: rgba(30, 41, 59, 0.9);
            margin-bottom: 12px; padding: 16px; border-radius: 4px;
            text-decoration: none; border-left: 4px solid #ca8a04;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2); transition: transform 0.1s;
        }
        .recipe-link:active { transform: translateX(2px); background: #334155; }
        .recipe-title {
            color: white; font-weight: 600; font-size: 15px;
            margin-bottom: 4px; display: flex; justify-content: space-between;
        }
        .recipe-meta {
            color: #94a3b8; font-size: 11px; text-transform: uppercase;
            display: flex; align-items: center; gap: 6px; font-weight: 700;
        }
        .home-btn {
            background: #0f172a; border: 1px solid #334155; color: #facc15;
            padding: 8px 12px; border-radius: 8px; font-size: 12px; font-weight: bold;
            display: flex; align-items: center; gap: 6px; cursor: pointer;
            text-transform: uppercase;
        }
        .section-header-title {
            flex: 1; text-align: right; font-weight: 700; color: #facc15;
            text-transform: uppercase; font-size: 16px; letter-spacing: 1px;
        }
        .icon-small { width: 14px; height: 14px; }

        /* --- ANIMATION ASSETS --- */
        
        /* Sun */
        .sun-graphic {
            position: absolute; top: -30px; right: -30px; width: 120px; height: 120px;
            background: #facc15; border-radius: 50%;
            box-shadow: 0 0 0 10px rgba(250, 204, 21, 0.3), 0 0 0 20px rgba(250, 204, 21, 0.1);
            z-index: 1;
        }

        /* Tug */
        .tug-container {
            position: absolute; bottom: 25px; right: 20px; width: 100px;
            z-index: 5; animation: bob 3s ease-in-out infinite;
            transform-origin: bottom center; pointer-events: none;
        }
        @keyframes bob { 0%, 100% { transform: translateY(0) rotate(0deg); } 50% { transform: translateY(-3px) rotate(1deg); } }

        /* Barge */
        .barge-container {
            width: 180px; height: 50px; position: absolute;
            z-index: 4; transition: all 1s ease-in-out; pointer-events: none;
        }
        /* Attached */
        .dash-header > .barge-container { bottom: 25px; right: 110px; animation: bob 3.2s ease-in-out infinite; }
        /* Docked */
        .dock-container > .barge-container { bottom: 0px; right: 20px; animation: none; }
        .dock-container > .barge-container .tow-rope { opacity: 0; }

        /* Dock */
        .dock-container {
            position: absolute; bottom: 25px; right: -400px; width: 160px; height: 80px;
            z-index: 4; transition: right 8s linear; pointer-events: none;
        }

        /* Buoy */
        .buoy-container {
            position: absolute; bottom: 5px; left: 100%; width: 40px; z-index: 3; 
            animation: float-pass 90s linear infinite; pointer-events: none;
        }
        .buoy-light { fill: #facc15; animation: blink 2s infinite; }
        @keyframes float-pass { 0% { transform: translateX(0) rotate(5deg); } 100% { transform: translateX(-140vw) rotate(-5deg); } }
        @keyframes blink { 0%, 100% { opacity: 0.4; } 50% { opacity: 1; filter: drop-shadow(0 0 8px #facc15); } }

        /* Clouds */
        .cloud-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none; }
        .cloud { position: absolute; fill: #fff; opacity: 0.8; filter: drop-shadow(0 4px 6px rgba(255,255,255,0.4)); animation: cloud-drift linear infinite; }
        @keyframes cloud-drift { from { transform: translateX(100vw); } to { transform: translateX(-150px); } }
        .c1 { top: 40px; width: 80px; animation-duration: 45s; }
        .c2 { top: 70px; width: 60px; animation-duration: 60s; animation-delay: 15s; }
        .c3 { top: 20px; width: 100px; animation-duration: 55s; animation-delay: 30s; }

        /* Birds */
        .bird-container {
            position: absolute; top: 50px; left: -150px; width: 120px; z-index: 3;
            animation: fly-pass 60s linear infinite; opacity: 0.9; color: #1e293b; pointer-events: none;
        }
        @keyframes fly-pass { 0% { transform: translateX(0); } 100% { transform: translateX(130vw) translateY(-20px); } }
        .bird-wing { animation: flap 0.8s ease-in-out infinite alternate; transform-origin: center; }
        @keyframes flap { 0% { transform: scaleY(1); } 100% { transform: scaleY(0.6); } }

        /* Waves */
        .waves-wrapper { position: absolute; bottom: 0; left: 0; width: 100%; height: 40px; overflow: hidden; z-index: 4; pointer-events: none; }
        .wave-track { position: absolute; bottom: 0; left: 0; width: 200%; height: 100%; display: flex; overflow: hidden; }
        .wave-svg { width: 50%; height: 100%; display: block; }
        @keyframes wave-scroll { 0% { transform: translateX(0); } 100% { transform: translateX(-50%); } }
        .wave-back { z-index: 4; opacity: 0.6; bottom: 5px; animation: wave-scroll 12s linear infinite; color: #334155; }
        .wave-front { z-index: 6; animation: wave-scroll 7s linear infinite; color: #0f172a; }

        /* Pause State */
        body.is-paused .wave-back, body.is-paused .wave-front, body.is-paused .buoy-container,
        body.is-paused .cloud, body.is-paused .bird-container { animation-play-state: paused !important; }

    </style>
</head>
<body>

    <div id="app-container">
        
        <div id="home-view" class="view">
            <div id="scene-header" class="dash-header" onclick="callDock()">
                <div class="sun-graphic"></div>
                
                <div class="cloud-container">
                    <svg class="cloud c1" viewBox="0 0 24 24"><path d="M18.5 12A5.5 5.5 0 0 0 13 6.5c-.3 0-.6.03-.9.08A5 5 0 0 0 3 10c0 .3.05.6.14.9A4.5 4.5 0 0 0 3.5 19h15a5.5 5.5 0 0 0 0-11z"/></svg>
                    <svg class="cloud c2" viewBox="0 0 24 24"><path d="M18.5 12A5.5 5.5 0 0 0 13 6.5c-.3 0-.6.03-.9.08A5 5 0 0 0 3 10c0 .3.05.6.14.9A4.5 4.5 0 0 0 3.5 19h15a5.5 5.5 0 0 0 0-11z"/></svg>
                    <svg class="cloud c3" viewBox="0 0 24 24"><path d="M18.5 12A5.5 5.5 0 0 0 13 6.5c-.3 0-.6.03-.9.08A5 5 0 0 0 3 10c0 .3.05.6.14.9A4.5 4.5 0 0 0 3.5 19h15a5.5 5.5 0 0 0 0-11z"/></svg>
                </div>

                <div class="bird-container">
                    <svg viewBox="0 0 120 50" fill="currentColor">
                        <g class="bird-wing" style="transform-origin: 10px 15px;"><path d="M2 15 C 8 5 12 5 15 11 C 18 5 22 5 28 15 L 15 18 Z" /></g>
                        <g class="bird-wing" style="transform: translate(30px, -10px) scale(0.85); transform-origin: 10px 15px;"><path d="M2 15 C 8 5 12 5 15 11 C 18 5 22 5 28 15 L 15 18 Z" /></g>
                        <g class="bird-wing" style="transform: translate(50px, 5px) scale(0.9); transform-origin: 10px 15px;"><path d="M2 15 C 8 5 12 5 15 11 C 18 5 22 5 28 15 L 15 18 Z" /></g>
                        <g class="bird-wing" style="transform: translate(75px, -5px) scale(0.75); transform-origin: 10px 15px;"><path d="M2 15 C 8 5 12 5 15 11 C 18 5 22 5 28 15 L 15 18 Z" /></g>
                    </svg>
                </div>

                <div id="the-barge" class="barge-container">
                    <svg viewBox="0 0 180 60" fill="none">
                        <path class="tow-rope" d="M105 25 Q 140 45 175 25" stroke="#fcd34d" stroke-width="2" fill="none" />
                        <path d="M5 45 L10 25 H100 L105 45 H5 Z" fill="#374151" stroke="#111827" stroke-width="2"/>
                        <rect x="15" y="10" width="25" height="15" fill="#9ca3af" stroke="#6b7280" stroke-width="1"/>
                        <rect x="42" y="10" width="25" height="15" fill="#6b7280" stroke="#4b5563" stroke-width="1"/>
                        <rect x="69" y="10" width="25" height="15" fill="#4b5563" stroke="#374151" stroke-width="1"/>
                        <path d="M10 25 H100" stroke="#6b7280" stroke-width="2"/>
                    </svg>
                </div>

                <div id="the-dock" class="dock-container">
                    <svg viewBox="0 0 160 80" fill="none">
                        <rect x="20" y="40" width="8" height="40" fill="#78350f" />
                        <rect x="60" y="40" width="8" height="40" fill="#78350f" />
                        <rect x="100" y="40" width="8" height="40" fill="#78350f" />
                        <rect x="140" y="40" width="8" height="40" fill="#78350f" />
                        <rect x="0" y="35" width="160" height="8" fill="#92400e" />
                        <g transform="translate(10, 5)">
                            <rect x="0" y="10" width="40" height="20" fill="#f1f5f9" stroke="#334155" stroke-width="2"/>
                            <path d="M-5 10 L20 -5 L45 10 Z" fill="#475569" stroke="#1e293b" stroke-width="2"/>
                            <rect x="22" y="15" width="10" height="15" fill="#94a3b8" />
                            <rect x="5" y="15" width="10" height="10" fill="#bae6fd" stroke="#334155" stroke-width="1"/>
                        </g>
                        <rect x="120" y="28" width="6" height="8" fill="#1e293b" />
                        <circle cx="123" cy="28" r="4" fill="#1e293b" />
                    </svg>
                </div>

                <div class="buoy-container">
                    <svg viewBox="0 0 40 60" fill="none">
                        <path d="M5 45 Q20 55 35 45 L35 40 L5 40 Z" fill="#ef4444" />
                        <rect x="5" y="36" width="30" height="4" fill="#facc15" />
                        <path d="M10 36 L13 12" stroke="#ef4444" stroke-width="3" stroke-linecap="round" />
                        <path d="M30 36 L27 12" stroke="#ef4444" stroke-width="3" stroke-linecap="round" />
                        <line x1="11" y1="24" x2="29" y2="24" stroke="#ef4444" stroke-width="3" />
                        <rect x="18" y="21" width="4" height="6" fill="#facc15" />
                        <rect x="11" y="10" width="18" height="3" fill="#ef4444" />
                        <circle cx="20" cy="8" r="5" class="buoy-light" />
                    </svg>
                </div>

                <div class="tug-container">
                    <svg viewBox="0 0 100 60" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M60 10c2-2 5-2 6 0s0 5 3 6" stroke="#94a3b8" stroke-width="2" stroke-linecap="round" opacity="0.6"/>
                        <rect x="55" y="20" width="10" height="15" fill="#334155"/>
                        <rect x="55" y="22" width="10" height="4" fill="#facc15"/>
                        <path d="M45 35h30v15H45z" fill="#cbd5e1"/>
                        <rect x="50" y="38" width="8" height="6" fill="#0f172a" rx="1"/>
                        <rect x="62" y="38" width="8" height="6" fill="#0f172a" rx="1"/>
                        <path d="M10 45h80c5 0 8 5 5 12H15c-8 0-10-10-5-12z" fill="#dc2626"/>
                        <path d="M10 45h80v4H10z" fill="#f8fafc"/>
                        <circle cx="25" cy="50" r="3" fill="#1e293b"/>
                        <circle cx="35" cy="50" r="3" fill="#1e293b"/>
                        <circle cx="45" cy="50" r="3" fill="#1e293b"/>
                    </svg>
                </div>

                <div class="waves-wrapper">
                    <div class="wave-track wave-back">
                        <svg class="wave-svg" viewBox="0 0 1200 60" preserveAspectRatio="none"><path d="M0,10 C150,60 350,-40 600,10 C850,60 1050,-40 1200,10 V60 H0 V10 Z" fill="currentColor"></path></svg>
                        <svg class="wave-svg" viewBox="0 0 1200 60" preserveAspectRatio="none"><path d="M0,10 C150,60 350,-40 600,10 C850,60 1050,-40 1200,10 V60 H0 V10 Z" fill="currentColor"></path></svg>
                    </div>
                    <div class="wave-track wave-front">
                        <svg class="wave-svg" viewBox="0 0 1200 60" preserveAspectRatio="none"><path d="M0,20 C150,70 400,-30 600,20 C800,70 1050,-30 1200,20 V60 H0 V20 Z" fill="currentColor"></path></svg>
                        <svg class="wave-svg" viewBox="0 0 1200 60" preserveAspectRatio="none"><path d="M0,20 C150,70 400,-30 600,20 C800,70 1050,-30 1200,20 V60 H0 V20 Z" fill="currentColor"></path></svg>
                    </div>
                </div>
            </div>

            <div class="home-content">
                <img src="https://www.pacificmaritimegroup.com/wp-content/uploads/2024/04/footer-logo.png" alt="Pacific Maritime Group" class="logo-img">
                
                <div class="main-title">Galley Guide</div>
                <div class="sub-title">v1.5</div>
                <button class="enter-btn" onclick="openMenu()">
                    Recipes & Guides
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                </button>
            </div>
        </div>

        <div id="menu-view" class="view hidden">
            <div class="simple-nav">
                <button class="home-btn" onclick="goHome()">
                    <svg style="width:16px;height:16px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="5" r="3"/><line x1="12" y1="22" x2="12" y2="8"/><path d="M5 12H2a10 10 0 0 0 20 0h-3"/></svg>
                    Home
                </button>
            </div>
            <div id="dash-grid" class="dash-grid"></div>
        </div>

        <div id="section-view" class="view hidden">
            <div class="nav-bar">
                <button class="home-btn" onclick="openMenu()">
                    <svg style="width:16px;height:16px;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg>
                    Menu
                </button>
                <div id="current-section-title" class="section-header-title">Lunch</div>
            </div>
            <div id="section-list" class="content-list"></div>
        </div>
    </div>

    <script>
        // --- Data ---
        const sections = [
            { id: 'tech', title: 'Techniques', icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 10h5v5H2z" /><path d="M7 10h13c1 0 2 1 2 2 0 4-4 7-9 7H7v-9z" /></svg>', items: [ { t: "Veggies (General): How to Cook Veggies", u: "https://www.youtube.com/watch?v=ZImcUEj1_9U" }, { t: "Veggies (JP): Cooking Vegetables 101", u: "https://www.youtube.com/watch?v=QjZ1LFqNWRM" }, { t: "Knife Skills (JP): How to Use a Chef's Knife", u: "https://www.youtube.com/watch?v=os8xnwxcHg0" }, { t: "Knife Skills (Epicurious): 9 Essential Skills", u: "https://www.youtube.com/watch?v=YrHpeEwk_-U" }, { t: "Knife Skills (Andy Cooks)", u: "https://www.youtube.com/watch?v=HHa8RtK4ues" }, { t: "Fruit Prep: Slice and Cut Fruit", u: "https://www.youtube.com/watch?v=VjINuQX4hbM" }, { t: "Fish Prep: How to Filet a Fish", u: "https://www.youtube.com/watch?v=wcueSXGueJs" }, { t: "Pan Skills: Cooking with Stainless Steel", u: "https://www.youtube.com/watch?v=u-_FnU9FaeA" }, { t: "Poultry: How to Cook Chicken Breast", u: "https://www.youtube.com/watch?v=NTBRThwL-2c" }, { t: "Seasoning: How to Use Salt", u: "https://www.youtube.com/watch?v=rEao0BS4HQo" } ] },
            { id: 'breakfast', title: 'Breakfast', icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>', items: [ { t: "Breakfast Casserole (Hashbrown & Egg)", u: "https://natashaskitchen.com/cheesy-hash-brown-and-egg-breakfast-casserole/" }, { t: "Buttermilk Pancakes", u: "https://natashaskitchen.com/quick-and-easy-buttermilk-pancakes-recipe/" }, { t: "Breakfast Potatoes", u: "https://natashaskitchen.com/breakfast-potatoes-recipe/" }, { t: "Breakfast Burritos (Freezer Friendly)", u: "https://natashaskitchen.com/breakfast-burrito-recipe/" }, { t: "Poached Eggs (Perfect Every Time)", u: "https://natashaskitchen.com/poached-eggs/" }, { t: "French Toast", u: "https://natashaskitchen.com/french-toast-recipe/" }, { t: "Eggs 101 (Video)", u: "https://www.youtube.com/watch?v=WALpdDTyj8o" } ] },
            { id: 'lunch', title: 'Lunch', icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 11h8v-1c0-2-2-4-4-4s-4 2-4 4v1z"/><path d="M3 15h8v1c0 2-2 4-4 4s-4-2-4-4v-1z"/><line x1="3" y1="13" x2="11" y2="13"/><path d="M16 8h6v11a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2V8z"/><line x1="15" y1="8" x2="23" y2="8"/><path d="M19 8V4l2-2"/></svg>', items: [ { t: "Shrimp Tacos", u: "https://natashaskitchen.com/shrimp-tacos/" }, { t: "The Best Taco Recipes", u: "https://natashaskitchen.com/best-taco-recipes/" }, { t: "Easy Shredded Beef Sandwiches", u: "https://natashaskitchen.com/slow-cooker-shredded-beef/" }, { t: "Instant Pot Mac and Cheese", u: "https://natashaskitchen.com/instant-pot-mac-and-cheese/" }, { t: "Beef Burrito", u: "https://natashaskitchen.com/beef-burrito-recipe/" }, { t: "Classic Tuna Salad", u: "https://natashaskitchen.com/classic-tuna-salad/" }, { t: "Philly Cheesesteak", u: "https://natashaskitchen.com/philly-cheesesteak/" }, { t: "Chicken Salad", u: "https://natashaskitchen.com/chicken-salad-recipe/" }, { t: "Carnitas (Mexican Pulled Pork)", u: "https://natashaskitchen.com/pork-carnitas/" }, { t: "Pulled Pork", u: "https://natashaskitchen.com/svetlanas-pulled-pork/" }, { t: "Easy Mongolian Beef", u: "https://natashaskitchen.com/mongolian-beef/" } ] },
            { id: 'dinner', title: 'Dinner', icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>', items: [ { t: "The Best Meatloaf Recipe", u: "https://natashaskitchen.com/meatloaf-recipe/" }, { t: "Instant Pot Baked Potatoes", u: "https://natashaskitchen.com/instant-pot-baked-potatoes/" }, { t: "Instant Pot Mashed Potatoes", u: "https://natashaskitchen.com/instant-pot-mashed-potatoes/" }, { t: "Crab Legs (4 Easy Ways)", u: "https://natashaskitchen.com/crab-legs/" }, { t: "Instant Pot Corn on the Cob", u: "https://natashaskitchen.com/instant-pot-corn-on-the-cob/" }, { t: "Classic Pot Roast", u: "https://natashaskitchen.com/pot-roast/" }, { t: "Beef Stroganoff", u: "https://natashaskitchen.com/beef-stroganoff/" }, { t: "Roasted Beef Tenderloin", u: "https://natashaskitchen.com/beef-tenderloin-with-mushroom-sauce/" }, { t: "Juicy Meatball Recipe", u: "https://natashaskitchen.com/juicy-meatball-recipe/" }, { t: "Classic Beef Stew", u: "https://natashaskitchen.com/beef-stew-recipe/" }, { t: "Prime Rib", u: "https://natashaskitchen.com/prime-rib-recipe/" }, { t: "Surf and Turf", u: "https://natashaskitchen.com/surf-and-turf-recipe/" }, { t: "Perfect Grilled Steak", u: "https://natashaskitchen.com/perfect-grilled-steak/" }, { t: "Pan-Seared Steak", u: "https://natashaskitchen.com/pan-seared-steak/" }, { t: "Beef and Broccoli", u: "https://natashaskitchen.com/beef-and-broccoli/" }, { t: "Grilled Steak Kebabs", u: "https://natashaskitchen.com/grilled-steak-kebabs/" }, { t: "Slow Cooker Beef Brisket", u: "https://natashaskitchen.com/slow-cooker-beef-brisket-recipe/" }, { t: "The Best Beef Ribs (Kitchen Divas)", u: "https://kitchendivas.com/best-bbq-oven-baked-beef-ribs-recipe/" }, { t: "Garlic and Herb Shrimp", u: "https://natashaskitchen.com/garlic-and-herb-shrimp/" } ] },
            { id: 'dessert', title: 'Dessert', icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="16" cy="6" r="3"/><path d="M16 3v3"/><path d="M3 13L16 6l5 4v8l-18 3V13z"/><path d="M3 13l18-3"/><path d="M3 17l18-3"/></svg>', items: [ { t: "Chocolate Chip Cookies", u: "https://natashaskitchen.com/soft-chocolate-chip-cookies-recipe/" }, { t: "Banana Bread", u: "https://natashaskitchen.com/banana-bread-recipe-video/" }, { t: "Tiramisu", u: "https://natashaskitchen.com/tiramisu-recipe/" }, { t: "Baklava", u: "https://natashaskitchen.com/baklava-recipe/" } ] },
            { id: 'extra', title: 'Extra Credit', icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>', items: [ { t: "Cheese Knowledge (Cheesemonger)", u: "https://www.youtube.com/watch?v=fTgm36y884c" }, { t: "Every Way to Screw Up Steak", u: "https://www.youtube.com/watch?v=tjQWzOFFxKU" }, { t: "Salt (Explained)", u: "https://www.youtube.com/watch?v=rEao0BS4HQo" }, { t: "Fried Rice", u: "https://www.youtube.com/watch?v=_ODdLLEKo24" }, { t: "Salads", u: "https://www.youtube.com/watch?v=pdhDJU0g5lI" }, { t: "Frozen Ingredients", u: "https://www.youtube.com/watch?v=rciYpNeLtD0" }, { t: "The best way to cook shrimp", u: "https://www.youtube.com/watch?v=HMEGseX9sX0" }, { t: "Better than Steak House at Home", u: "https://www.youtube.com/watch?v=LBWlPS0sTfA" } ] },
            { id: 'submit', title: 'Submit Recipe', icon: '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>', items: [ { t: "Submit a New Recipe (Google Form)", u: "https://forms.gle/XfAxthF8xfLiG2MK6" } ] }
        ];

        const homeView = document.getElementById('home-view');
        const menuView = document.getElementById('menu-view');
        const sectionView = document.getElementById('section-view');
        const dashGrid = document.getElementById('dash-grid');
        const sectionTitle = document.getElementById('current-section-title');
        const sectionList = document.getElementById('section-list');
        const sectionContainer = document.getElementById('section-view');

        let currentSectionIndex = 0;
        let isSectionOpen = false;

        // --- NAVIGATION ---
        function openMenu() {
            homeView.classList.add('hidden');
            sectionView.classList.add('hidden');
            menuView.classList.remove('hidden');
            document.body.classList.add('is-paused'); // Pause scene to save battery
        }

        function goHome() {
            menuView.classList.add('hidden');
            sectionView.classList.add('hidden');
            homeView.classList.remove('hidden');
            document.body.classList.remove('is-paused'); // Resume scene
            isSectionOpen = false;
        }

        // --- DOCK LOGIC ---
        let isDockBusy = false;
        let carryingBarge = true; 
        
        function callDock() {
            if (isDockBusy) return;
            isDockBusy = true;

            const dock = document.getElementById('the-dock');
            const barge = document.getElementById('the-barge');
            const header = document.getElementById('scene-header');
            
            if (!carryingBarge) { dock.appendChild(barge); }

            dock.style.transition = "right 8s linear";
            dock.style.right = "20px"; 

            setTimeout(() => {
                document.body.classList.add('is-paused');
                if (carryingBarge) { dock.appendChild(barge); carryingBarge = false; } 
                else { header.appendChild(barge); carryingBarge = true; }

                setTimeout(() => {
                    document.body.classList.remove('is-paused');
                    dock.style.transition = "right 10s linear";
                    dock.style.right = "100vw";
                    setTimeout(() => {
                        dock.style.transition = "none";
                        dock.style.right = "-400px";
                        isDockBusy = false;
                    }, 10000);
                }, 5000);
            }, 8000);
        }

        setInterval(() => { if(!document.hidden && !homeView.classList.contains('hidden')) callDock(); }, 60000);

        function initDashboard() {
            dashGrid.innerHTML = sections.map((sec, idx) => `
                <div class="dash-card" onclick="openSection(${idx})">
                    <div class="dash-icon">${sec.icon}</div>
                    <div class="dash-title">${sec.title}</div>
                </div>
            `).join('');
        }

        function openSection(index) {
            currentSectionIndex = index;
            const sec = sections[index];
            sectionTitle.innerText = sec.title;
            sectionList.innerHTML = sec.items.map(item => `
                <a href="${item.u}" target="_blank" class="recipe-link">
                    <div class="recipe-title">${item.t}
                        <svg class="icon-small" style="stroke: #facc15;" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>
                    </div>
                    <div class="recipe-meta">${item.u.includes('youtube') ? '<svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"/></svg> Video' : '<svg class="icon-small" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg> Link'}</div>
                </a>
            `).join('');
            menuView.classList.add('hidden');
            sectionView.classList.remove('hidden');
            sectionList.scrollTop = 0;
            isSectionOpen = true;
        }

        let touchStartX = 0;
        let touchStartY = 0;
        sectionContainer.addEventListener('touchstart', (e) => { touchStartX = e.changedTouches[0].screenX; touchStartY = e.changedTouches[0].screenY; }, {passive: true});
        sectionContainer.addEventListener('touchend', (e) => {
            if (!isSectionOpen) return;
            const touchEndX = e.changedTouches[0].screenX;
            const deltaX = touchEndX - touchStartX;
            if (Math.abs(e.changedTouches[0].screenY - touchStartY) > Math.abs(deltaX)) return;
            if (Math.abs(deltaX) > 60) {
                if (deltaX < 0) { if (currentSectionIndex < sections.length - 1) openSection(currentSectionIndex + 1); } 
                else { if (currentSectionIndex > 0) openSection(currentSectionIndex - 1); else openMenu(); }
            }
        }, {passive: true});

        initDashboard();
    </script>
</body>
</html>
